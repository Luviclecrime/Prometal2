<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Parrainage</title>
  <!-- Inclure le CSS Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .progress-bar {
      text-align: center;
      font-weight: bold;
    }
    .copy-btn {
      margin-top: 10px;
    }
  body{
    background-color:grey;
  }
  </style>
</head>
<body>
  <div class="container text-center my-4">
    <h1>Programme de Parrainage</h1>

    <!-- Section pour afficher les membres invités -->
    <div class="my-4">
      <h3>Membres invités : <span id="invite-count">0</span></h3>
    </div>

    <!-- Barres de progression pour chaque niveau -->
    <div class="mb-4">
      <h5>Level 1: 5%</h5>
      <div class="progress">
        <div id="progress-lv1" class="progress-bar bg-info" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
      </div>
    </div>

    <div class="mb-4">
      <h5>Level 2: 10%</h5>
      <div class="progress">
        <div id="progress-lv2" class="progress-bar bg-success" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
      </div>
    </div>

    <div class="mb-4">
      <h5>Level 3: 15%</h5>
      <div class="progress">
        <div id="progress-lv3" class="progress-bar bg-warning" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
      </div>
    </div>

    <div class="mb-4">
      <h5>Level 4: 20%</h5>
      <div class="progress">
        <div id="progress-lv4" class="progress-bar bg-danger" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
      </div>
    </div>

    <div class="mb-4">
      <h5>Level ultime</h5>
      <div class="progress">
        <div id="progress-ultimate" class="progress-bar bg-dark" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
      </div>
    </div>

    <!-- Message de récompense -->
    <div class="my-4">
      <p>INVITER 20 PERSONNES A INVESTIR ET VOUS RECEVEZ UN SALAIRE DE 15 000 XAF PAR MOIS</p>
    </div>

    <!-- Zone du lien de parrainage et bouton copier -->
    <div class="my-4">
      <p>Votre lien de parrainage : <span id="referral-link">https://example.com/invite?code=123456</span></p>
      <button id="copy-btn" class="btn btn-primary copy-btn">Copier le lien</button>
    </div>
  </div>

  <!-- Inclure le JS Bootstrap et un script pour gérer les invités -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Vérifie le nombre d'invités depuis le localStorage
    let inviteCount = localStorage.getItem('inviteCount') ? parseInt(localStorage.getItem('inviteCount')) : 0;
    document.getElementById('invite-count').textContent = inviteCount;

    // Met à jour les barres de progression en fonction du nombre d'invités
    function updateProgress() {
      let progress1 = Math.min((inviteCount / 20) * 5, 100);
      let progress2 = Math.min((inviteCount / 20) * 10, 100);
      let progress3 = Math.min((inviteCount / 20) * 15, 100);
      let progress4 = Math.min((inviteCount / 20) * 20, 100);
      let ultimateProgress = Math.min((inviteCount / 20) * 25, 100);
      
      document.getElementById('progress-lv1').style.width = progress1 + '%';
      document.getElementById('progress-lv1').textContent = Math.round(progress1) + '%';

      document.getElementById('progress-lv2').style.width = progress2 + '%';
      document.getElementById('progress-lv2').textContent = Math.round(progress2) + '%';

      document.getElementById('progress-lv3').style.width = progress3 + '%';
      document.getElementById('progress-lv3').textContent = Math.round(progress3) + '%';

      document.getElementById('progress-lv4').style.width = progress4 + '%';
      document.getElementById('progress-lv4').textContent = Math.round(progress4) + '%';

      document.getElementById('progress-ultimate').style.width = ultimateProgress + '%';
      document.getElementById('progress-ultimate').textContent = Math.round(ultimateProgress) + '%';
    }

    updateProgress();

    // Simule l'ajout d'un invité et met à jour localStorage
    function addInvite() {
      inviteCount += 1;
      localStorage.setItem('inviteCount', inviteCount);
      document.getElementById('invite-count').textContent = inviteCount;
      updateProgress();
    }

    // Copie le lien de parrainage dans le presse-papier
    document.getElementById('copy-btn').addEventListener('click', function() {
      const referralLink = document.getElementById('referral-link').textContent;
      navigator.clipboard.writeText(referralLink).then(() => {
        alert('Lien copié dans le presse-papier!');
      }).catch(err => {
        alert('Erreur lors de la copie du lien : ' + err);
      });
    });

    // Simuler une nouvelle personne utilisant le code de parrainage après 3 secondes
    setTimeout(addInvite, 3000); // Simule une nouvelle personne invitée
  </script>
</body>
</html>